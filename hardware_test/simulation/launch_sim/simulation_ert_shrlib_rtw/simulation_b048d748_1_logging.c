/* Simscape target specific file.
 * This file is generated for the Simscape network associated with the solver block 'simulation/Plant/ World Setup/Solver Configuration'.
 */

#include <math.h>
#include <string.h>
#include "pm_std.h"
#include "sm_std.h"
#include "ne_std.h"
#include "ne_dae.h"
#include "sm_ssci_run_time_errors.h"
#include "sm_RuntimeDerivedValuesBundle.h"
#include "simulation_b048d748_1_geometries.h"

PmfMessageId simulation_b048d748_1_recordLog(const RuntimeDerivedValuesBundle
  *rtdv, const int *eqnEnableFlags, const double *state, const int *modeVector,
  const double *input, const double *inputDot, const double *inputDdot, double
  *logVector, double *errorResult, NeuDiagnosticManager *neDiagMgr)
{
  const double *rtdvd = rtdv->mDoubles.mValues;
  const int *rtdvi = rtdv->mInts.mValues;
  boolean_T bb[2];
  int ii[6];
  double xx[545];
  (void) rtdvd;
  (void) rtdvi;
  (void) eqnEnableFlags;
  (void) inputDot;
  (void) neDiagMgr;
  xx[0] = 57.29577951308232;
  xx[1] = 1.0;
  xx[2] = state[5] * state[5];
  xx[3] = state[6] * state[6];
  xx[4] = 2.0;
  xx[5] = (xx[2] + xx[3]) * xx[4];
  xx[6] = state[4] * state[5];
  xx[7] = state[3] * state[6];
  xx[8] = xx[4] * (xx[6] - xx[7]);
  xx[9] = state[3] * state[5];
  xx[10] = state[4] * state[6];
  xx[11] = (xx[9] + xx[10]) * xx[4];
  xx[12] = xx[1] - xx[5];
  xx[13] = xx[8];
  xx[14] = xx[11];
  xx[15] = 1.1;
  xx[16] = 0.5;
  xx[17] = xx[16] * state[13];
  xx[18] = cos(xx[17]);
  xx[19] = xx[16] * state[14];
  xx[16] = cos(xx[19]);
  xx[20] = xx[18] * xx[16];
  xx[21] = xx[20] * xx[20];
  xx[22] = sin(xx[17]);
  xx[17] = xx[16] * xx[22];
  xx[23] = xx[17] * xx[17];
  xx[24] = (xx[21] + xx[23]) * xx[4] - xx[1];
  xx[25] = sin(xx[19]);
  xx[26] = xx[18] * xx[25];
  xx[18] = xx[26] * xx[17];
  xx[27] = xx[22] * xx[25];
  xx[22] = xx[20] * xx[27];
  xx[28] = xx[18] - xx[22];
  xx[29] = xx[4] * xx[28];
  xx[30] = xx[17] * xx[27];
  xx[31] = xx[20] * xx[26];
  xx[32] = (xx[30] + xx[31]) * xx[4];
  xx[33] = (xx[18] + xx[22]) * xx[4];
  xx[34] = xx[26] * xx[26];
  xx[35] = (xx[21] + xx[34]) * xx[4] - xx[1];
  xx[36] = xx[26] * xx[27];
  xx[37] = xx[20] * xx[17];
  xx[38] = xx[4] * (xx[36] - xx[37]);
  xx[39] = xx[4] * (xx[30] - xx[31]);
  xx[40] = (xx[36] + xx[37]) * xx[4];
  xx[41] = xx[27] * xx[27];
  xx[42] = (xx[21] + xx[41]) * xx[4] - xx[1];
  xx[43] = xx[24];
  xx[44] = xx[29];
  xx[45] = xx[32];
  xx[46] = xx[33];
  xx[47] = xx[35];
  xx[48] = xx[38];
  xx[49] = xx[39];
  xx[50] = xx[40];
  xx[51] = xx[42];
  xx[21] = 0.1;
  xx[52] = xx[21] * xx[24];
  xx[53] = xx[21] * xx[33];
  xx[54] = xx[21] * xx[39];
  xx[55] = xx[21] * xx[29];
  xx[56] = xx[21] * xx[35];
  xx[57] = xx[21] * xx[40];
  xx[58] = xx[21] * xx[32];
  xx[59] = xx[21] * xx[38];
  xx[60] = xx[21] * xx[42];
  pm_math_Matrix3x3_compose_ra(xx + 43, xx + 52, xx + 61);
  xx[52] = xx[15] + xx[61];
  xx[53] = xx[15] + xx[65];
  xx[70] = xx[52];
  xx[71] = xx[62];
  xx[72] = xx[63];
  xx[73] = xx[64];
  xx[74] = xx[53];
  xx[75] = xx[66];
  xx[76] = xx[67];
  xx[77] = xx[68];
  xx[78] = xx[15] + xx[69];
  pm_math_Matrix3x3_xform_ra(xx + 70, xx + 12, xx + 54);
  xx[15] = (xx[7] + xx[6]) * xx[4];
  xx[57] = state[4] * state[4];
  xx[58] = (xx[3] + xx[57]) * xx[4];
  xx[59] = state[5] * state[6];
  xx[60] = state[3] * state[4];
  xx[79] = xx[4] * (xx[59] - xx[60]);
  xx[80] = xx[15];
  xx[81] = xx[1] - xx[58];
  xx[82] = xx[79];
  pm_math_Matrix3x3_xform_ra(xx + 70, xx + 80, xx + 83);
  xx[86] = pm_math_Vector3_dot_ra(xx + 12, xx + 83);
  xx[87] = xx[4] * (xx[10] - xx[9]);
  xx[88] = (xx[60] + xx[59]) * xx[4];
  xx[89] = (xx[57] + xx[2]) * xx[4];
  xx[90] = xx[87];
  xx[91] = xx[88];
  xx[92] = xx[1] - xx[89];
  pm_math_Matrix3x3_xform_ra(xx + 70, xx + 90, xx + 93);
  xx[96] = pm_math_Vector3_dot_ra(xx + 12, xx + 93);
  xx[97] = 0.04499999999999999;
  xx[98] = xx[97] * xx[26];
  xx[99] = xx[98] * xx[20];
  xx[100] = xx[97] * xx[17];
  xx[101] = (xx[99] + xx[100] * xx[27]) * xx[4];
  xx[102] = xx[4] * (xx[100] * xx[20] - xx[98] * xx[27]);
  xx[103] = xx[98] * xx[26];
  xx[104] = (xx[100] * xx[17] + xx[103]) * xx[4] - xx[97] - xx[1];
  xx[105] = - xx[101];
  xx[106] = xx[102];
  xx[107] = xx[104];
  pm_math_Matrix3x3_postCross_ra(xx + 61, xx + 105, xx + 108);
  xx[61] = - (xx[108] + xx[62]);
  xx[62] = xx[111] + xx[53];
  xx[53] = - xx[62];
  xx[63] = - (xx[114] + xx[68]);
  xx[117] = xx[61];
  xx[118] = xx[53];
  xx[119] = xx[63];
  xx[65] = pm_math_Vector3_dot_ra(xx + 12, xx + 117);
  xx[66] = xx[52] - xx[109];
  xx[52] = xx[64] - xx[112];
  xx[64] = xx[67] - xx[115];
  xx[67] = xx[66];
  xx[68] = xx[52];
  xx[69] = xx[64];
  xx[100] = pm_math_Vector3_dot_ra(xx + 12, xx + 67);
  xx[120] = - xx[110];
  xx[121] = - xx[113];
  xx[122] = - xx[116];
  xx[123] = pm_math_Vector3_dot_ra(xx + 12, xx + 120);
  xx[124] = pm_math_Vector3_dot_ra(xx + 80, xx + 93);
  xx[125] = pm_math_Vector3_dot_ra(xx + 80, xx + 117);
  xx[126] = pm_math_Vector3_dot_ra(xx + 80, xx + 67);
  xx[127] = pm_math_Vector3_dot_ra(xx + 80, xx + 120);
  xx[128] = pm_math_Vector3_dot_ra(xx + 90, xx + 117);
  xx[117] = pm_math_Vector3_dot_ra(xx + 90, xx + 67);
  xx[67] = pm_math_Vector3_dot_ra(xx + 90, xx + 120);
  xx[68] = 1.181250000000001e-4;
  xx[69] = 1.0125e-4;
  xx[129] = xx[68] * xx[24];
  xx[130] = xx[68] * xx[33];
  xx[131] = xx[68] * xx[39];
  xx[132] = xx[68] * xx[29];
  xx[133] = xx[68] * xx[35];
  xx[134] = xx[68] * xx[40];
  xx[135] = xx[69] * xx[32];
  xx[136] = xx[69] * xx[38];
  xx[137] = xx[69] * xx[42];
  pm_math_Matrix3x3_compose_ra(xx + 43, xx + 129, xx + 138);
  pm_math_Matrix3x3_preCross_ra(xx + 108, xx + 105, xx + 129);
  xx[24] = xx[1] + xx[138] - xx[129] + xx[111];
  xx[32] = xx[139] - xx[130] - xx[108];
  xx[33] = xx[32] - xx[52];
  xx[35] = xx[140] - xx[131];
  xx[40] = xx[35] + xx[113];
  xx[42] = xx[1] + xx[142] - xx[133] - xx[109];
  xx[116] = xx[143] - xx[134];
  xx[118] = xx[116] - xx[110];
  xx[119] = xx[1] + xx[146] - xx[137];
  xx[147] = pm_math_Vector3_dot_ra(xx + 12, xx + 54);
  xx[148] = xx[86];
  xx[149] = xx[96];
  xx[150] = xx[65];
  xx[151] = xx[100];
  xx[152] = xx[123];
  xx[153] = xx[86];
  xx[154] = pm_math_Vector3_dot_ra(xx + 80, xx + 83);
  xx[155] = xx[124];
  xx[156] = xx[125];
  xx[157] = xx[126];
  xx[158] = xx[127];
  xx[159] = xx[96];
  xx[160] = xx[124];
  xx[161] = pm_math_Vector3_dot_ra(xx + 90, xx + 93);
  xx[162] = xx[128];
  xx[163] = xx[117];
  xx[164] = xx[67];
  xx[165] = xx[65];
  xx[166] = xx[125];
  xx[167] = xx[128];
  xx[168] = xx[24] + xx[62];
  xx[169] = xx[33];
  xx[170] = xx[40];
  xx[171] = xx[100];
  xx[172] = xx[126];
  xx[173] = xx[117];
  xx[174] = xx[33];
  xx[175] = xx[42] + xx[66];
  xx[176] = xx[118];
  xx[177] = xx[123];
  xx[178] = xx[127];
  xx[179] = xx[67];
  xx[180] = xx[40];
  xx[181] = xx[118];
  xx[182] = xx[119];
  ii[0] = factorSymmetricPosDef(xx + 147, 6, xx + 123);
  if (ii[0] != 0) {
    return sm_ssci_recordRunTimeError(
      "physmod:sm:core:compiler:mechanism:mechanism:degenerateMassFoll",
      "'simulation/Plant/ Rocket Body/Free Movement' has a degenerate mass distribution on its follower side.",
      neDiagMgr);
  }

  xx[33] = 0.0;
  bb[0] = modeVector[0] == -1;
  xx[40] = - state[3];
  xx[62] = - state[4];
  xx[65] = - state[5];
  xx[67] = - state[6];
  xx[123] = xx[40];
  xx[124] = xx[62];
  xx[125] = xx[65];
  xx[126] = xx[67];
  xx[86] = - xx[17];
  xx[96] = - xx[26];
  xx[100] = - xx[27];
  xx[183] = - xx[20];
  xx[184] = xx[86];
  xx[185] = xx[96];
  xx[186] = xx[100];
  pm_math_Quaternion_compose_ra(xx + 123, xx + 183, xx + 187);
  xx[117] = xx[1] - (xx[34] + xx[41]) * xx[4];
  xx[118] = xx[189] * xx[117];
  xx[127] = (xx[31] + xx[30]) * xx[4];
  xx[30] = xx[190] * xx[127];
  xx[31] = xx[188] * xx[117];
  xx[128] = xx[30] + xx[31];
  xx[191] = xx[189] * xx[127];
  xx[192] = xx[118];
  xx[193] = - xx[128];
  xx[194] = xx[191];
  pm_math_Vector3_cross_ra(xx + 188, xx + 192, xx + 195);
  xx[192] = (xx[187] * xx[118] + xx[195]) * xx[4] - xx[127];
  xx[193] = xx[4] * (xx[196] - xx[128] * xx[187]);
  xx[194] = xx[117] + (xx[187] * xx[191] + xx[197]) * xx[4];
  xx[118] = state[20] * state[20];
  xx[128] = state[21] * state[21];
  xx[191] = (xx[118] + xx[128]) * xx[4] - xx[1];
  xx[195] = state[21] * state[22];
  xx[196] = state[20] * state[23];
  xx[197] = (xx[195] + xx[196]) * xx[4];
  xx[198] = state[21] * state[23];
  xx[199] = state[20] * state[22];
  xx[200] = xx[4] * (xx[198] - xx[199]);
  xx[201] = xx[191];
  xx[202] = xx[197];
  xx[203] = xx[200];
  xx[204] = bb[0] ? xx[33] : pm_math_Vector3_dot_ra(xx + 192, xx + 201);
  xx[192] = (xx[22] + xx[18]) * xx[4];
  xx[18] = xx[189] * xx[192];
  xx[22] = xx[190] * xx[38];
  xx[193] = xx[188] * xx[192];
  xx[194] = xx[22] + xx[193];
  xx[205] = xx[189] * xx[38];
  xx[206] = xx[18];
  xx[207] = - xx[194];
  xx[208] = xx[205];
  pm_math_Vector3_cross_ra(xx + 188, xx + 206, xx + 209);
  xx[206] = (xx[187] * xx[18] + xx[209]) * xx[4] - xx[38];
  xx[207] = xx[4] * (xx[210] - xx[194] * xx[187]);
  xx[208] = xx[192] + (xx[187] * xx[205] + xx[211]) * xx[4];
  xx[18] = bb[0] ? xx[33] : pm_math_Vector3_dot_ra(xx + 206, xx + 201);
  xx[194] = xx[189] * xx[39];
  xx[205] = xx[1] - (xx[23] + xx[34]) * xx[4];
  xx[34] = xx[190] * xx[205];
  xx[206] = xx[188] * xx[39];
  xx[207] = xx[34] + xx[206];
  xx[208] = xx[189] * xx[205];
  xx[209] = xx[194];
  xx[210] = - xx[207];
  xx[211] = xx[208];
  pm_math_Vector3_cross_ra(xx + 188, xx + 209, xx + 212);
  xx[209] = (xx[187] * xx[194] + xx[212]) * xx[4] - xx[205];
  xx[210] = xx[4] * (xx[213] - xx[207] * xx[187]);
  xx[211] = xx[39] + (xx[187] * xx[208] + xx[214]) * xx[4];
  xx[194] = bb[0] ? xx[33] : pm_math_Vector3_dot_ra(xx + 209, xx + 201);
  xx[207] = xx[33];
  xx[208] = xx[33];
  xx[209] = xx[33];
  xx[210] = xx[204];
  xx[211] = xx[18];
  xx[212] = xx[194];
  solveSymmetricPosDef(xx + 147, xx + 207, 6, 1, xx + 213, xx + 219);
  xx[207] = state[22] * state[22];
  xx[208] = state[23] * state[23];
  xx[209] = (xx[207] + xx[208]) * xx[4];
  xx[210] = xx[1] - xx[209];
  xx[211] = xx[4] * (xx[195] - xx[196]);
  xx[212] = (xx[199] + xx[198]) * xx[4];
  xx[213] = xx[21] * xx[210];
  xx[214] = xx[21] * xx[211];
  xx[215] = xx[21] * xx[212];
  xx[219] = (xx[196] + xx[195]) * xx[4];
  xx[220] = xx[21] * xx[219];
  xx[221] = (xx[208] + xx[128]) * xx[4];
  xx[222] = xx[1] - xx[221];
  xx[223] = xx[21] * xx[222];
  xx[224] = state[22] * state[23];
  xx[225] = state[20] * state[21];
  xx[226] = xx[4] * (xx[224] - xx[225]);
  xx[227] = xx[21] * xx[226];
  xx[228] = xx[220];
  xx[229] = xx[223];
  xx[230] = xx[227];
  xx[231] = pm_math_Vector3_dot_ra(xx + 210, xx + 228);
  xx[232] = xx[21] * xx[200];
  xx[233] = (xx[225] + xx[224]) * xx[4];
  xx[234] = xx[21] * xx[233];
  xx[235] = (xx[128] + xx[207]) * xx[4];
  xx[128] = xx[1] - xx[235];
  xx[236] = xx[21] * xx[128];
  xx[237] = xx[232];
  xx[238] = xx[234];
  xx[239] = xx[236];
  xx[240] = pm_math_Vector3_dot_ra(xx + 210, xx + 237);
  xx[241] = xx[219];
  xx[242] = xx[222];
  xx[243] = xx[226];
  xx[244] = pm_math_Vector3_dot_ra(xx + 241, xx + 237);
  xx[245] = xx[200];
  xx[246] = xx[233];
  xx[247] = xx[128];
  xx[248] = 6.750000000000001e-5;
  xx[249] = pm_math_Vector3_dot_ra(xx + 210, xx + 213);
  xx[250] = xx[231];
  xx[251] = xx[240];
  xx[252] = xx[33];
  xx[253] = xx[33];
  xx[254] = xx[33];
  xx[255] = xx[231];
  xx[256] = pm_math_Vector3_dot_ra(xx + 241, xx + 228);
  xx[257] = xx[244];
  xx[258] = xx[33];
  xx[259] = xx[33];
  xx[260] = xx[33];
  xx[261] = xx[240];
  xx[262] = xx[244];
  xx[263] = pm_math_Vector3_dot_ra(xx + 245, xx + 237);
  xx[264] = xx[33];
  xx[265] = xx[33];
  xx[266] = xx[33];
  xx[267] = xx[33];
  xx[268] = xx[33];
  xx[269] = xx[33];
  xx[270] = xx[248];
  xx[271] = xx[33];
  xx[272] = xx[33];
  xx[273] = xx[33];
  xx[274] = xx[33];
  xx[275] = xx[33];
  xx[276] = xx[33];
  xx[277] = xx[248];
  xx[278] = xx[33];
  xx[279] = xx[33];
  xx[280] = xx[33];
  xx[281] = xx[33];
  xx[282] = xx[33];
  xx[283] = xx[33];
  xx[284] = xx[69];
  ii[0] = factorSymmetricPosDef(xx + 249, 6, xx + 285);
  if (ii[0] != 0) {
    return sm_ssci_recordRunTimeError(
      "physmod:sm:core:compiler:mechanism:mechanism:degenerateMassImplicit6Dof",
      "An implicit 6-DOF joint is attached to a degenerate mass distribution.",
      neDiagMgr);
  }

  xx[228] = - xx[212];
  xx[229] = xx[4] * (xx[225] - xx[224]);
  xx[230] = xx[235] - xx[1];
  xx[231] = xx[188] * xx[189];
  xx[235] = xx[187] * xx[190];
  xx[237] = xx[4] * (xx[231] - xx[235]);
  xx[238] = xx[187] * xx[187];
  xx[239] = xx[189] * xx[189];
  xx[240] = (xx[238] + xx[239]) * xx[4] - xx[1];
  xx[244] = xx[189] * xx[190];
  xx[285] = xx[187] * xx[188];
  xx[286] = (xx[244] + xx[285]) * xx[4];
  xx[287] = xx[237];
  xx[288] = xx[240];
  xx[289] = xx[286];
  xx[290] = bb[0] ? xx[33] : pm_math_Vector3_dot_ra(xx + 228, xx + 287);
  xx[228] = xx[211];
  xx[229] = xx[222];
  xx[230] = xx[233];
  xx[222] = bb[0] ? xx[33] : pm_math_Vector3_dot_ra(xx + 228, xx + 287);
  xx[291] = xx[33];
  xx[292] = xx[33];
  xx[293] = xx[33];
  xx[294] = xx[33];
  xx[295] = xx[290];
  xx[296] = xx[222];
  solveSymmetricPosDef(xx + 249, xx + 291, 6, 1, xx + 297, xx + 303);
  xx[228] = xx[190] * xx[117];
  xx[229] = xx[190] * xx[29];
  xx[230] = xx[189] * xx[29];
  xx[291] = xx[31] + xx[230];
  xx[292] = xx[228];
  xx[293] = xx[229];
  xx[294] = - xx[291];
  pm_math_Vector3_cross_ra(xx + 188, xx + 292, xx + 295);
  xx[292] = xx[29] + (xx[187] * xx[228] + xx[295]) * xx[4];
  xx[293] = (xx[187] * xx[229] + xx[296]) * xx[4] - xx[117];
  xx[294] = xx[4] * (xx[297] - xx[291] * xx[187]);
  xx[31] = (xx[118] + xx[207]) * xx[4] - xx[1];
  xx[207] = (xx[224] + xx[225]) * xx[4];
  xx[295] = xx[211];
  xx[296] = xx[31];
  xx[297] = xx[207];
  xx[224] = bb[0] ? xx[33] : pm_math_Vector3_dot_ra(xx + 292, xx + 295);
  xx[225] = xx[1] - (xx[41] + xx[23]) * xx[4];
  xx[23] = xx[190] * xx[192];
  xx[41] = xx[190] * xx[225];
  xx[228] = xx[189] * xx[225];
  xx[229] = xx[193] + xx[228];
  xx[291] = xx[23];
  xx[292] = xx[41];
  xx[293] = - xx[229];
  pm_math_Vector3_cross_ra(xx + 188, xx + 291, xx + 298);
  xx[291] = xx[225] + (xx[187] * xx[23] + xx[298]) * xx[4];
  xx[292] = (xx[187] * xx[41] + xx[299]) * xx[4] - xx[192];
  xx[293] = xx[4] * (xx[300] - xx[229] * xx[187]);
  xx[23] = bb[0] ? xx[33] : pm_math_Vector3_dot_ra(xx + 291, xx + 295);
  xx[41] = (xx[37] + xx[36]) * xx[4];
  xx[36] = xx[190] * xx[39];
  xx[37] = xx[190] * xx[41];
  xx[193] = xx[189] * xx[41];
  xx[229] = xx[206] + xx[193];
  xx[291] = xx[36];
  xx[292] = xx[37];
  xx[293] = - xx[229];
  pm_math_Vector3_cross_ra(xx + 188, xx + 291, xx + 298);
  xx[291] = xx[41] + (xx[187] * xx[36] + xx[298]) * xx[4];
  xx[292] = (xx[187] * xx[37] + xx[299]) * xx[4] - xx[39];
  xx[293] = xx[4] * (xx[300] - xx[229] * xx[187]);
  xx[36] = bb[0] ? xx[33] : pm_math_Vector3_dot_ra(xx + 291, xx + 295);
  xx[303] = xx[33];
  xx[304] = xx[33];
  xx[305] = xx[33];
  xx[306] = xx[224];
  xx[307] = xx[23];
  xx[308] = xx[36];
  solveSymmetricPosDef(xx + 147, xx + 303, 6, 1, xx + 309, xx + 315);
  xx[291] = xx[212];
  xx[292] = xx[226];
  xx[293] = xx[128];
  xx[37] = xx[188] * xx[190];
  xx[128] = xx[187] * xx[189];
  xx[206] = (xx[37] + xx[128]) * xx[4];
  xx[229] = xx[4] * (xx[244] - xx[285]);
  xx[294] = xx[190] * xx[190];
  xx[298] = (xx[238] + xx[294]) * xx[4] - xx[1];
  xx[303] = xx[206];
  xx[304] = xx[229];
  xx[305] = xx[298];
  xx[299] = bb[0] ? xx[33] : pm_math_Vector3_dot_ra(xx + 291, xx + 303);
  xx[291] = xx[209] - xx[1];
  xx[292] = - xx[219];
  xx[293] = xx[4] * (xx[199] - xx[198]);
  xx[209] = bb[0] ? xx[33] : pm_math_Vector3_dot_ra(xx + 291, xx + 303);
  xx[306] = xx[33];
  xx[307] = xx[33];
  xx[308] = xx[33];
  xx[309] = xx[299];
  xx[310] = xx[33];
  xx[311] = xx[209];
  solveSymmetricPosDef(xx + 249, xx + 306, 6, 1, xx + 315, xx + 321);
  xx[291] = xx[312] * xx[204] + xx[313] * xx[18] + xx[314] * xx[194] + xx[319] *
    xx[290] + xx[320] * xx[222];
  xx[292] = xx[230] + xx[30];
  xx[30] = xx[188] * xx[29];
  xx[230] = xx[188] * xx[127];
  xx[306] = - xx[292];
  xx[307] = xx[30];
  xx[308] = xx[230];
  pm_math_Vector3_cross_ra(xx + 188, xx + 306, xx + 309);
  xx[306] = xx[4] * (xx[309] - xx[292] * xx[187]);
  xx[307] = xx[127] + (xx[187] * xx[30] + xx[310]) * xx[4];
  xx[308] = (xx[187] * xx[230] + xx[311]) * xx[4] - xx[29];
  xx[30] = (xx[198] + xx[199]) * xx[4];
  xx[198] = (xx[118] + xx[208]) * xx[4] - xx[1];
  xx[309] = xx[30];
  xx[310] = xx[226];
  xx[311] = xx[198];
  xx[118] = bb[0] ? xx[33] : pm_math_Vector3_dot_ra(xx + 306, xx + 309);
  xx[199] = xx[228] + xx[22];
  xx[22] = xx[188] * xx[225];
  xx[208] = xx[188] * xx[38];
  xx[306] = - xx[199];
  xx[307] = xx[22];
  xx[308] = xx[208];
  pm_math_Vector3_cross_ra(xx + 188, xx + 306, xx + 321);
  xx[306] = xx[4] * (xx[321] - xx[199] * xx[187]);
  xx[307] = xx[38] + (xx[187] * xx[22] + xx[322]) * xx[4];
  xx[308] = (xx[187] * xx[208] + xx[323]) * xx[4] - xx[225];
  xx[22] = bb[0] ? xx[33] : pm_math_Vector3_dot_ra(xx + 306, xx + 309);
  xx[38] = xx[193] + xx[34];
  xx[34] = xx[188] * xx[41];
  xx[193] = xx[188] * xx[205];
  xx[306] = - xx[38];
  xx[307] = xx[34];
  xx[308] = xx[193];
  pm_math_Vector3_cross_ra(xx + 188, xx + 306, xx + 321);
  xx[306] = xx[4] * (xx[321] - xx[38] * xx[187]);
  xx[307] = xx[205] + (xx[187] * xx[34] + xx[322]) * xx[4];
  xx[308] = (xx[187] * xx[193] + xx[323]) * xx[4] - xx[41];
  xx[34] = bb[0] ? xx[33] : pm_math_Vector3_dot_ra(xx + 306, xx + 309);
  xx[321] = xx[33];
  xx[322] = xx[33];
  xx[323] = xx[33];
  xx[324] = xx[118];
  xx[325] = xx[22];
  xx[326] = xx[34];
  solveSymmetricPosDef(xx + 147, xx + 321, 6, 1, xx + 327, xx + 333);
  xx[306] = xx[4] * (xx[196] - xx[195]);
  xx[307] = xx[221] - xx[1];
  xx[308] = - xx[233];
  xx[38] = xx[188] * xx[188];
  xx[193] = (xx[238] + xx[38]) * xx[4] - xx[1];
  xx[195] = (xx[231] + xx[235]) * xx[4];
  xx[196] = xx[4] * (xx[37] - xx[128]);
  xx[321] = xx[193];
  xx[322] = xx[195];
  xx[323] = xx[196];
  xx[199] = bb[0] ? xx[33] : pm_math_Vector3_dot_ra(xx + 306, xx + 321);
  xx[306] = xx[210];
  xx[307] = xx[219];
  xx[308] = xx[200];
  xx[205] = bb[0] ? xx[33] : pm_math_Vector3_dot_ra(xx + 306, xx + 321);
  xx[324] = xx[33];
  xx[325] = xx[33];
  xx[326] = xx[33];
  xx[327] = xx[199];
  xx[328] = xx[205];
  xx[329] = xx[33];
  solveSymmetricPosDef(xx + 249, xx + 324, 6, 1, xx + 333, xx + 339);
  xx[208] = xx[330] * xx[204] + xx[331] * xx[18] + xx[332] * xx[194] + xx[337] *
    xx[290] + xx[338] * xx[222];
  xx[219] = - xx[1];
  xx[221] = bb[0] ? xx[33] : xx[219];
  xx[228] = 0.04500000000000001;
  xx[230] = xx[228] * xx[117];
  xx[233] = xx[190] * xx[230];
  xx[238] = xx[228] * xx[29];
  xx[292] = xx[190] * xx[238];
  xx[293] = xx[188] * xx[230] + xx[189] * xx[238];
  xx[306] = - xx[233];
  xx[307] = - xx[292];
  xx[308] = xx[293];
  pm_math_Vector3_cross_ra(xx + 188, xx + 306, xx + 324);
  xx[300] = (xx[324] - xx[187] * xx[233]) * xx[4] - xx[238];
  xx[233] = xx[102] * state[5];
  xx[238] = xx[104] * state[6];
  xx[306] = xx[233] + xx[238];
  xx[327] = xx[62];
  xx[328] = xx[65];
  xx[329] = xx[67];
  xx[307] = xx[102] * state[4];
  xx[308] = xx[104] * state[4];
  xx[339] = - xx[306];
  xx[340] = xx[307];
  xx[341] = xx[308];
  pm_math_Vector3_cross_ra(xx + 327, xx + 339, xx + 342);
  xx[339] = bb[0] ? xx[33] : - (xx[300] + (xx[306] * state[3] + xx[342]) * xx[4]
    + xx[4] * (xx[7] - xx[6]));
  xx[306] = xx[228] * xx[192];
  xx[192] = xx[190] * xx[306];
  xx[340] = xx[228] * xx[225];
  xx[225] = xx[190] * xx[340];
  xx[341] = xx[188] * xx[306] + xx[189] * xx[340];
  xx[345] = - xx[192];
  xx[346] = - xx[225];
  xx[347] = xx[341];
  pm_math_Vector3_cross_ra(xx + 188, xx + 345, xx + 348);
  xx[345] = xx[101] * state[5];
  xx[346] = xx[101] * state[4];
  xx[347] = xx[238] - xx[346];
  xx[238] = xx[104] * state[5];
  xx[351] = - xx[345];
  xx[352] = - xx[347];
  xx[353] = xx[238];
  pm_math_Vector3_cross_ra(xx + 327, xx + 351, xx + 354);
  xx[351] = bb[0] ? xx[33] : - ((xx[348] - xx[187] * xx[192]) * xx[4] - xx[340]
    + xx[104] + xx[4] * (xx[354] + xx[345] * state[3]) - xx[5] + xx[1]);
  xx[5] = xx[228] * xx[39];
  xx[39] = xx[190] * xx[5];
  xx[192] = xx[228] * xx[41];
  xx[41] = xx[190] * xx[192];
  xx[340] = xx[188] * xx[5] + xx[189] * xx[192];
  xx[357] = - xx[39];
  xx[358] = - xx[41];
  xx[359] = xx[340];
  pm_math_Vector3_cross_ra(xx + 188, xx + 357, xx + 360);
  xx[345] = xx[101] * state[6];
  xx[352] = xx[102] * state[6];
  xx[353] = xx[233] - xx[346];
  xx[357] = - xx[345];
  xx[358] = xx[352];
  xx[359] = - xx[353];
  pm_math_Vector3_cross_ra(xx + 327, xx + 357, xx + 363);
  xx[233] = bb[0] ? xx[33] : - ((xx[360] - xx[187] * xx[39]) * xx[4] - xx[192] +
    xx[4] * (xx[363] + xx[345] * state[3]) - xx[102]);
  xx[366] = xx[221];
  xx[367] = xx[33];
  xx[368] = xx[33];
  xx[369] = xx[339];
  xx[370] = xx[351];
  xx[371] = xx[233];
  solveSymmetricPosDef(xx + 147, xx + 366, 6, 1, xx + 372, xx + 378);
  xx[39] = bb[0] ? xx[33] : xx[1];
  xx[192] = 0.0225;
  xx[327] = xx[192] * state[23];
  xx[328] = xx[327] * state[20];
  xx[329] = xx[192] * state[21];
  xx[345] = bb[0] ? xx[33] : xx[4] * (xx[328] - xx[329] * state[22]);
  xx[346] = xx[192] * state[22];
  xx[357] = xx[327] * state[23];
  xx[358] = bb[0] ? xx[33] : xx[192] - (xx[346] * state[22] + xx[357]) * xx[4];
  xx[366] = xx[39];
  xx[367] = xx[33];
  xx[368] = xx[33];
  xx[369] = xx[345];
  xx[370] = xx[358];
  xx[371] = xx[33];
  solveSymmetricPosDef(xx + 249, xx + 366, 6, 1, xx + 378, xx + 384);
  xx[359] = xx[375] * xx[204] + xx[376] * xx[18] + xx[377] * xx[194] + xx[382] *
    xx[290] + xx[383] * xx[222];
  xx[366] = (xx[325] - xx[187] * xx[292]) * xx[4];
  xx[292] = bb[0] ? xx[33] : - (xx[366] + xx[4] * (xx[343] - xx[307] * state[3])
    + xx[58] - xx[104] + xx[230] - xx[1]);
  xx[58] = bb[0] ? xx[33] : - ((xx[349] - xx[187] * xx[225]) * xx[4] + xx[306] +
    (xx[347] * state[3] + xx[355]) * xx[4] + xx[15]);
  xx[15] = bb[0] ? xx[33] : - ((xx[361] - xx[187] * xx[41]) * xx[4] + xx[5] +
    xx[4] * (xx[364] - xx[352] * state[3]) - xx[101]);
  xx[384] = xx[33];
  xx[385] = xx[221];
  xx[386] = xx[33];
  xx[387] = xx[292];
  xx[388] = xx[58];
  xx[389] = xx[15];
  solveSymmetricPosDef(xx + 147, xx + 384, 6, 1, xx + 390, xx + 396);
  xx[5] = bb[0] ? xx[33] : (xx[357] + xx[329] * state[21]) * xx[4] - xx[192];
  xx[41] = bb[0] ? xx[33] : (xx[328] + xx[346] * state[21]) * xx[4];
  xx[384] = xx[33];
  xx[385] = xx[39];
  xx[386] = xx[33];
  xx[387] = xx[5];
  xx[388] = xx[41];
  xx[389] = xx[33];
  solveSymmetricPosDef(xx + 249, xx + 384, 6, 1, xx + 396, xx + 402);
  xx[104] = xx[393] * xx[204] + xx[394] * xx[18] + xx[395] * xx[194] + xx[400] *
    xx[290] + xx[401] * xx[222];
  xx[225] = xx[4] * (xx[326] + xx[293] * xx[187]);
  xx[293] = bb[0] ? xx[33] : - (xx[225] + xx[102] + xx[4] * (xx[344] - xx[308] *
    state[3]) - xx[88]);
  xx[88] = bb[0] ? xx[33] : - (xx[4] * (xx[350] + xx[341] * xx[187]) + xx[4] *
    (xx[356] - xx[238] * state[3]) + xx[101] + xx[87]);
  xx[101] = bb[0] ? xx[33] : - (xx[4] * (xx[362] + xx[340] * xx[187]) + (xx[353]
    * state[3] + xx[365]) * xx[4]);
  xx[352] = xx[33];
  xx[353] = xx[33];
  xx[354] = xx[221];
  xx[355] = xx[293];
  xx[356] = xx[88];
  xx[357] = xx[101];
  solveSymmetricPosDef(xx + 147, xx + 352, 6, 1, xx + 360, xx + 384);
  xx[102] = bb[0] ? xx[33] : - ((xx[329] * state[20] + xx[327] * state[22]) *
    xx[4]);
  xx[238] = bb[0] ? xx[33] : xx[4] * (xx[327] * state[21] - xx[346] * state[20]);
  xx[324] = xx[33];
  xx[325] = xx[33];
  xx[326] = xx[39];
  xx[327] = xx[102];
  xx[328] = xx[238];
  xx[329] = xx[33];
  solveSymmetricPosDef(xx + 249, xx + 324, 6, 1, xx + 352, xx + 384);
  xx[306] = xx[363] * xx[204] + xx[364] * xx[18] + xx[365] * xx[194] + xx[356] *
    xx[290] + xx[357] * xx[222];
  xx[307] = xx[330] * xx[224] + xx[331] * xx[23] + xx[332] * xx[36] + xx[336] *
    xx[299] + xx[338] * xx[209];
  xx[308] = xx[375] * xx[224] + xx[376] * xx[23] + xx[377] * xx[36] + xx[381] *
    xx[299] + xx[383] * xx[209];
  xx[315] = xx[393] * xx[224] + xx[394] * xx[23] + xx[395] * xx[36] + xx[399] *
    xx[299] + xx[401] * xx[209];
  xx[316] = xx[363] * xx[224] + xx[364] * xx[23] + xx[365] * xx[36] + xx[355] *
    xx[299] + xx[357] * xx[209];
  xx[317] = xx[375] * xx[118] + xx[376] * xx[22] + xx[377] * xx[34] + xx[381] *
    xx[199] + xx[382] * xx[205];
  xx[319] = xx[393] * xx[118] + xx[394] * xx[22] + xx[395] * xx[34] + xx[399] *
    xx[199] + xx[400] * xx[205];
  xx[324] = xx[363] * xx[118] + xx[364] * xx[22] + xx[365] * xx[34] + xx[355] *
    xx[199] + xx[356] * xx[205];
  xx[325] = xx[390] * xx[221] + xx[393] * xx[339] + xx[394] * xx[351] + xx[395] *
    xx[233] + xx[396] * xx[39] + xx[399] * xx[345] + xx[400] * xx[358];
  xx[326] = xx[360] * xx[221] + xx[363] * xx[339] + xx[364] * xx[351] + xx[365] *
    xx[233] + xx[352] * xx[39] + xx[355] * xx[345] + xx[356] * xx[358];
  xx[327] = xx[361] * xx[221] + xx[363] * xx[292] + xx[364] * xx[58] + xx[365] *
    xx[15] + xx[353] * xx[39] + xx[355] * xx[5] + xx[356] * xx[41];
  xx[401] = xx[216] * xx[204] + xx[217] * xx[18] + xx[218] * xx[194] + xx[301] *
    xx[290] + xx[302] * xx[222];
  xx[402] = xx[291];
  xx[403] = xx[208];
  xx[404] = xx[359];
  xx[405] = xx[104];
  xx[406] = xx[306];
  xx[407] = xx[291];
  xx[408] = xx[312] * xx[224] + xx[313] * xx[23] + xx[314] * xx[36] + xx[318] *
    xx[299] + xx[320] * xx[209];
  xx[409] = xx[307];
  xx[410] = xx[308];
  xx[411] = xx[315];
  xx[412] = xx[316];
  xx[413] = xx[208];
  xx[414] = xx[307];
  xx[415] = xx[330] * xx[118] + xx[331] * xx[22] + xx[332] * xx[34] + xx[336] *
    xx[199] + xx[337] * xx[205];
  xx[416] = xx[317];
  xx[417] = xx[319];
  xx[418] = xx[324];
  xx[419] = xx[359];
  xx[420] = xx[308];
  xx[421] = xx[317];
  xx[422] = xx[372] * xx[221] + xx[375] * xx[339] + xx[376] * xx[351] + xx[377] *
    xx[233] + xx[378] * xx[39] + xx[381] * xx[345] + xx[382] * xx[358];
  xx[423] = xx[325];
  xx[424] = xx[326];
  xx[425] = xx[104];
  xx[426] = xx[315];
  xx[427] = xx[319];
  xx[428] = xx[325];
  xx[429] = xx[391] * xx[221] + xx[393] * xx[292] + xx[394] * xx[58] + xx[395] *
    xx[15] + xx[397] * xx[39] + xx[399] * xx[5] + xx[400] * xx[41];
  xx[430] = xx[327];
  xx[431] = xx[306];
  xx[432] = xx[316];
  xx[433] = xx[324];
  xx[434] = xx[326];
  xx[435] = xx[327];
  xx[436] = xx[362] * xx[221] + xx[363] * xx[293] + xx[364] * xx[88] + xx[365] *
    xx[101] + xx[354] * xx[39] + xx[355] * xx[102] + xx[356] * xx[238];
  ii[0] = bb[0] ? 0 : 1;
  xx[104] = (xx[10] + xx[9]) * xx[4];
  xx[9] = state[3] * state[3];
  xx[10] = (xx[9] + xx[57]) * xx[4] - xx[1];
  xx[57] = xx[104] * state[10] - xx[10] * state[12];
  xx[208] = xx[10] * state[11] - xx[8] * state[10];
  xx[216] = xx[8] * state[12] - xx[104] * state[11];
  xx[217] = xx[216] * state[11] - xx[57] * state[10];
  xx[218] = (xx[6] + xx[7]) * xx[4];
  xx[6] = xx[79] * state[10] - xx[218] * state[12];
  xx[7] = (xx[9] + xx[2]) * xx[4] - xx[1];
  xx[2] = xx[218] * state[11] - xx[7] * state[10];
  xx[291] = xx[7] * state[12] - xx[79] * state[11];
  xx[301] = xx[291] * state[11] - xx[6] * state[10];
  xx[302] = (xx[9] + xx[3]) * xx[4] - xx[1];
  xx[3] = xx[302] * state[10] - xx[87] * state[12];
  xx[9] = (xx[59] + xx[60]) * xx[4];
  xx[306] = xx[87] * state[11] - xx[9] * state[10];
  xx[307] = xx[9] * state[12] - xx[302] * state[11];
  xx[308] = xx[307] * state[11] - xx[3] * state[10];
  xx[312] = xx[57] * state[12] - xx[208] * state[11];
  xx[313] = xx[208] * state[10] - xx[216] * state[12];
  xx[314] = xx[217];
  xx[315] = xx[6] * state[12] - xx[2] * state[11];
  xx[316] = xx[2] * state[10] - xx[291] * state[12];
  xx[317] = xx[301];
  xx[318] = xx[3] * state[12] - xx[306] * state[11];
  xx[319] = xx[306] * state[10] - xx[307] * state[12];
  xx[320] = xx[308];
  pm_math_Matrix3x3_compose_ra(xx + 312, xx + 43, xx + 324);
  xx[367] = xx[10];
  xx[368] = xx[8];
  xx[369] = xx[104];
  xx[370] = xx[218];
  xx[371] = xx[7];
  xx[372] = xx[79];
  xx[373] = xx[87];
  xx[374] = xx[9];
  xx[375] = xx[302];
  xx[2] = xx[127] * state[15];
  xx[3] = xx[2] * xx[2];
  xx[6] = xx[4] * xx[28] * state[15] + state[16];
  xx[7] = xx[6] * xx[6];
  xx[8] = xx[117] * state[15];
  xx[9] = xx[6] * xx[8];
  xx[333] = xx[8];
  xx[334] = xx[6];
  xx[335] = xx[2];
  xx[336] = xx[117];
  xx[337] = xx[29];
  xx[338] = xx[127];
  pm_math_Vector3_cross_ra(xx + 333, xx + 336, xx + 340);
  xx[10] = xx[342] * state[15];
  xx[28] = xx[2] * xx[8];
  xx[57] = xx[341] * state[15];
  xx[79] = xx[8] * xx[8];
  xx[87] = xx[6] * xx[2];
  xx[104] = xx[340] * state[15];
  xx[376] = - (xx[3] + xx[7]);
  xx[377] = xx[9] + xx[10];
  xx[378] = xx[28] - xx[57];
  xx[379] = xx[9] - xx[10];
  xx[380] = - (xx[3] + xx[79]);
  xx[381] = xx[87] + xx[104];
  xx[382] = xx[28] + xx[57];
  xx[383] = xx[87] - xx[104];
  xx[384] = - (xx[7] + xx[79]);
  pm_math_Matrix3x3_compose_ra(xx + 43, xx + 376, xx + 385);
  pm_math_Matrix3x3_compose_ra(xx + 367, xx + 385, xx + 43);
  xx[367] = xx[193];
  xx[368] = xx[237];
  xx[369] = xx[206];
  xx[370] = xx[195];
  xx[371] = xx[240];
  xx[372] = xx[229];
  xx[373] = xx[196];
  xx[374] = xx[286];
  xx[375] = xx[298];
  xx[336] = state[10];
  xx[337] = state[11];
  xx[338] = state[12];
  pm_math_Quaternion_inverseXform_ra(xx + 183, xx + 336, xx + 340);
  pm_math_Matrix3x3_postCross_ra(xx + 367, xx + 340, xx + 376);
  pm_math_Matrix3x3_postCross_ra(xx + 376, xx + 333, xx + 367);
  xx[333] = xx[325] + xx[44] + xx[4] * xx[368];
  xx[334] = xx[328] + xx[47] + xx[4] * xx[371];
  xx[335] = xx[331] + xx[50] + xx[4] * xx[374];
  xx[3] = xx[30] * state[27] - xx[191] * state[29];
  xx[7] = xx[191] * state[28] - xx[211] * state[27];
  xx[9] = xx[226] * state[27] - xx[197] * state[29];
  xx[10] = xx[197] * state[28] - xx[31] * state[27];
  xx[28] = xx[198] * state[27] - xx[200] * state[29];
  xx[57] = xx[200] * state[28] - xx[207] * state[27];
  xx[346] = xx[3] * state[29] - xx[7] * state[28];
  xx[347] = xx[9] * state[29] - xx[10] * state[28];
  xx[348] = xx[28] * state[29] - xx[57] * state[28];
  xx[79] = - state[21];
  xx[87] = - state[22];
  xx[104] = - state[23];
  xx[352] = xx[79];
  xx[353] = xx[87];
  xx[354] = xx[104];
  xx[127] = state[22] * state[28];
  xx[191] = state[23] * state[29];
  xx[193] = xx[127] + xx[191];
  xx[195] = state[21] * state[28];
  xx[197] = state[21] * state[29];
  xx[355] = xx[193];
  xx[356] = - xx[195];
  xx[357] = - xx[197];
  pm_math_Vector3_cross_ra(xx + 352, xx + 355, xx + 359);
  xx[355] = xx[4] * (xx[359] - xx[193] * state[20]);
  xx[356] = state[29] + (xx[195] * state[20] + xx[360]) * xx[4];
  xx[357] = (xx[197] * state[20] + xx[361]) * xx[4] - state[28];
  xx[193] = xx[340] + xx[8];
  xx[195] = xx[193] * xx[189];
  xx[197] = xx[342] + xx[2];
  xx[2] = xx[197] * xx[190];
  xx[200] = xx[193] * xx[188];
  xx[206] = xx[2] + xx[200];
  xx[208] = xx[197] * xx[189];
  xx[359] = xx[195];
  xx[360] = - xx[206];
  xx[361] = xx[208];
  pm_math_Vector3_cross_ra(xx + 188, xx + 359, xx + 362);
  xx[359] = (xx[187] * xx[195] + xx[362]) * xx[4] - xx[197];
  xx[360] = xx[4] * (xx[363] - xx[206] * xx[187]);
  xx[361] = xx[193] + (xx[187] * xx[208] + xx[364]) * xx[4];
  xx[195] = xx[326] + xx[45] + xx[4] * xx[369];
  xx[206] = xx[329] + xx[48] + xx[4] * xx[372];
  xx[208] = xx[332] + xx[51] + xx[4] * xx[375];
  xx[362] = xx[195];
  xx[363] = xx[206];
  xx[364] = xx[208];
  xx[216] = xx[211] * state[29] - xx[30] * state[28];
  xx[30] = xx[31] * state[29] - xx[226] * state[28];
  xx[31] = xx[207] * state[29] - xx[198] * state[28];
  xx[376] = xx[7] * state[27] - xx[216] * state[29];
  xx[377] = xx[10] * state[27] - xx[30] * state[29];
  xx[378] = xx[57] * state[27] - xx[31] * state[29];
  xx[7] = state[22] * state[27];
  xx[10] = state[21] * state[27];
  xx[57] = xx[191] + xx[10];
  xx[191] = state[22] * state[29];
  xx[379] = - xx[7];
  xx[380] = xx[57];
  xx[381] = - xx[191];
  pm_math_Vector3_cross_ra(xx + 352, xx + 379, xx + 382);
  xx[379] = (xx[7] * state[20] + xx[382]) * xx[4] - state[29];
  xx[380] = xx[4] * (xx[383] - xx[57] * state[20]);
  xx[381] = state[27] + (xx[191] * state[20] + xx[384]) * xx[4];
  xx[7] = xx[341] + xx[6];
  xx[57] = xx[193] * xx[190];
  xx[191] = xx[7] * xx[190];
  xx[198] = xx[7] * xx[189];
  xx[207] = xx[200] + xx[198];
  xx[382] = xx[57];
  xx[383] = xx[191];
  xx[384] = - xx[207];
  pm_math_Vector3_cross_ra(xx + 188, xx + 382, xx + 394);
  xx[382] = xx[7] + (xx[187] * xx[57] + xx[394]) * xx[4];
  xx[383] = (xx[187] * xx[191] + xx[395]) * xx[4] - xx[193];
  xx[384] = xx[4] * (xx[396] - xx[207] * xx[187]);
  xx[394] = xx[324] + xx[43] + xx[4] * xx[367];
  xx[395] = xx[327] + xx[46] + xx[4] * xx[370];
  xx[396] = xx[330] + xx[49] + xx[4] * xx[373];
  xx[43] = xx[216] * state[28] - xx[3] * state[27];
  xx[3] = xx[30] * state[28] - xx[9] * state[27];
  xx[9] = xx[31] * state[28] - xx[28] * state[27];
  xx[44] = xx[43];
  xx[45] = xx[3];
  xx[46] = xx[9];
  xx[28] = state[23] * state[27];
  xx[30] = state[23] * state[28];
  xx[31] = xx[10] + xx[127];
  xx[47] = - xx[28];
  xx[48] = - xx[30];
  xx[49] = xx[31];
  pm_math_Vector3_cross_ra(xx + 352, xx + 47, xx + 324);
  xx[47] = state[28] + (xx[28] * state[20] + xx[324]) * xx[4];
  xx[48] = (xx[30] * state[20] + xx[325]) * xx[4] - state[27];
  xx[49] = xx[4] * (xx[326] - xx[31] * state[20]);
  xx[10] = xx[198] + xx[2];
  xx[2] = xx[7] * xx[188];
  xx[28] = xx[197] * xx[188];
  xx[324] = - xx[10];
  xx[325] = xx[2];
  xx[326] = xx[28];
  pm_math_Vector3_cross_ra(xx + 188, xx + 324, xx + 327);
  xx[324] = xx[4] * (xx[327] - xx[10] * xx[187]);
  xx[325] = xx[197] + (xx[187] * xx[2] + xx[328]) * xx[4];
  xx[326] = (xx[187] * xx[28] + xx[329]) * xx[4] - xx[7];
  pm_math_Matrix3x3_xform_ra(xx + 312, xx + 105, xx + 327);
  xx[312] = - (xx[97] * xx[387]);
  xx[313] = - (xx[97] * xx[390]);
  xx[314] = - (xx[97] * xx[393]);
  pm_math_Quaternion_xform_ra(xx + 123, xx + 312, xx + 315);
  xx[312] = xx[86];
  xx[313] = xx[96];
  xx[314] = xx[100];
  xx[2] = xx[97] * xx[8];
  xx[7] = xx[2] * xx[27];
  xx[8] = xx[6] * xx[97];
  xx[6] = xx[8] * xx[27];
  xx[10] = xx[2] * xx[17] + xx[8] * xx[26];
  xx[318] = xx[7];
  xx[319] = xx[6];
  xx[320] = - xx[10];
  pm_math_Vector3_cross_ra(xx + 312, xx + 318, xx + 330);
  xx[318] = (xx[330] - xx[20] * xx[7]) * xx[4] - xx[8];
  xx[319] = (xx[331] - xx[20] * xx[6]) * xx[4] + xx[2];
  xx[320] = xx[4] * (xx[332] + xx[10] * xx[20]);
  pm_math_Vector3_cross_ra(xx + 336, xx + 318, xx + 6);
  pm_math_Quaternion_xform_ra(xx + 123, xx + 6, xx + 318);
  xx[367] = pm_math_Vector3_dot_ra(xx + 333, xx + 201) + pm_math_Vector3_dot_ra
    (xx + 346, xx + 287) + pm_math_Vector3_dot_ra(xx + 355, xx + 359) * xx[4];
  xx[368] = pm_math_Vector3_dot_ra(xx + 362, xx + 295) + pm_math_Vector3_dot_ra
    (xx + 376, xx + 303) + pm_math_Vector3_dot_ra(xx + 379, xx + 382) * xx[4];
  xx[369] = pm_math_Vector3_dot_ra(xx + 394, xx + 309) + pm_math_Vector3_dot_ra
    (xx + 44, xx + 321) + pm_math_Vector3_dot_ra(xx + 47, xx + 324) * xx[4];
  xx[370] = xx[192] * xx[43] - (xx[327] + xx[217] + xx[315] + xx[4] * xx[318] -
    xx[195] * xx[228]);
  xx[371] = xx[192] * xx[3] - (xx[328] + xx[301] + xx[316] + xx[4] * xx[319] -
    xx[206] * xx[228]);
  xx[372] = xx[192] * xx[9] - (xx[329] + xx[308] + xx[317] + xx[4] * xx[320] -
    xx[208] * xx[228]);
  zeroMajor(1, 6, ii + 0, xx + 367);
  pm_math_Vector3_cross_ra(xx + 336, xx + 105, xx + 6);
  pm_math_Vector3_cross_ra(xx + 336, xx + 6, xx + 43);
  pm_math_Quaternion_inverseXform_ra(xx + 183, xx + 43, xx + 46);
  xx[2] = xx[4] * xx[16] * xx[25];
  xx[3] = xx[2] * state[15];
  xx[9] = xx[342] + xx[3];
  xx[10] = xx[342] + xx[9];
  xx[16] = xx[4] * xx[25] * xx[25];
  xx[25] = (xx[1] - xx[16]) * state[15];
  xx[28] = xx[97] * xx[25];
  xx[301] = xx[1];
  xx[302] = xx[33];
  xx[303] = xx[33];
  xx[304] = xx[33];
  xx[305] = xx[33];
  xx[306] = xx[33];
  xx[307] = xx[219];
  pm_math_Quaternion_xform_ra(xx + 123, xx + 105, xx + 43);
  xx[30] = state[0] + xx[11];
  xx[31] = 6.938893903907228e-18;
  xx[49] = xx[31] * xx[189];
  xx[50] = xx[31] * xx[188];
  xx[51] = xx[4] * (xx[60] - xx[59]);
  xx[57] = state[1] - xx[51];
  xx[59] = state[2] - xx[89] + xx[1];
  xx[315] = - xx[189];
  xx[316] = - xx[190];
  xx[317] = xx[187];
  xx[318] = xx[188];
  xx[319] = xx[43] + xx[30] - (xx[187] * xx[49] + xx[190] * xx[50]) * xx[4];
  xx[320] = xx[4] * (xx[187] * xx[50] - xx[190] * xx[49]) + xx[44] + xx[57];
  xx[321] = (xx[188] * xx[50] + xx[189] * xx[49]) * xx[4] - xx[31] + xx[45] +
    xx[59];
  bb[1] = sm_core_compiler_computeProximityInfoBrickCylinder(
    simulation_b048d748_1_geometry_3(NULL), simulation_b048d748_1_geometry_2
    (NULL), (pm_math_Transform3 *)(xx + 301), (pm_math_Transform3 *)(xx + 315),
    xx + 43, (pm_math_Vector3 *)(xx + 191), (pm_math_Vector3 *)(xx + 200),
    (pm_math_Vector3 *)(xx + 206), (pm_math_Vector3 *)(xx + 216));
  xx[322] = xx[33];
  xx[323] = xx[33];
  xx[324] = xx[1];
  xx[325] = xx[33];
  xx[326] = xx[33];
  xx[327] = xx[33];
  xx[328] = - xx[31];
  xx[31] = xx[340] + xx[25];
  xx[44] = xx[341] + state[16];
  xx[286] = state[7];
  xx[287] = state[8];
  xx[288] = state[9];
  pm_math_Quaternion_inverseXform_ra(xx + 123, xx + 286, xx + 329);
  xx[45] = xx[329] + state[11];
  xx[49] = xx[330] - state[10];
  xx[286] = xx[6] + xx[45];
  xx[287] = xx[7] + xx[49];
  xx[288] = xx[8] + xx[331];
  pm_math_Quaternion_inverseXform_ra(xx + 183, xx + 286, xx + 6);
  xx[50] = xx[97] * state[16];
  xx[352] = xx[31];
  xx[353] = xx[44];
  xx[354] = xx[9];
  xx[355] = xx[6] - xx[50];
  xx[356] = xx[7] + xx[28];
  xx[357] = xx[8];
  xx[6] = 1000.0;
  xx[7] = 1.0e-4;
  xx[8] = 0.3;
  xx[60] = 0.2119573811760597;
  xx[86] = 9.126024771145405e-4;
  sm_core_compiler_computeSpatialContactWrenches(
    0, 1, bb[1], xx + 43, (const pm_math_Vector3 *)(xx + 191), (const
    pm_math_Vector3 *)(xx + 200), (const pm_math_Vector3 *)(xx + 206), (const
    pm_math_Vector3 *)(xx + 216),
    (const pm_math_Transform3 *)(xx + 301), (const pm_math_Transform3 *)(xx +
    322), (const pm_math_Transform3 *)(xx + 301), (const pm_math_Transform3 *)
    (xx + 315), NULL, (const pm_math_SpatialVector *)(xx + 352),
    0, 1, 1.0e6, xx[6], xx[7], xx[8], xx[60], xx[86], NULL, NULL,
    NULL, (pm_math_SpatialVector *)(xx + 359));
  xx[43] = state[15] * state[16];
  xx[96] = xx[2] * xx[43];
  xx[2] = - xx[19];
  xx[19] = sin(xx[2]);
  xx[100] = xx[1] - xx[4] * xx[19] * xx[19];
  xx[191] = (xx[46] - xx[10] * xx[28] - xx[97] * inputDdot[1]) * xx[21] - xx[362];
  xx[192] = xx[21] * (xx[47] - xx[10] * xx[50] - xx[97] * xx[96] + xx[97] * xx
                      [100] * inputDdot[0]) - xx[363];
  xx[193] = xx[21] * (xx[48] + (xx[340] + xx[31]) * xx[28] + (xx[341] + xx[44]) *
                      xx[50]) - (xx[364] + input[4]);
  pm_math_Quaternion_xform_ra(xx + 183, xx + 191, xx + 46);
  xx[315] = xx[40];
  xx[316] = xx[62];
  xx[317] = xx[65];
  xx[318] = xx[67];
  xx[319] = xx[30] - xx[11];
  xx[320] = xx[51] + xx[57];
  xx[321] = xx[89] - xx[1] + xx[59];
  bb[1] = sm_core_compiler_computeProximityInfoCxpolyBrick(
    simulation_b048d748_1_geometry_0(NULL), simulation_b048d748_1_geometry_3
    (NULL), (pm_math_Transform3 *)(xx + 315), (pm_math_Transform3 *)(xx + 301),
    xx + 10, (pm_math_Vector3 *)(xx + 191), (pm_math_Vector3 *)(xx + 200),
    (pm_math_Vector3 *)(xx + 206), (pm_math_Vector3 *)(xx + 216));
  xx[322] = state[10];
  xx[323] = state[11];
  xx[324] = state[12];
  xx[325] = xx[45];
  xx[326] = xx[49];
  xx[327] = xx[331];
  sm_core_compiler_computeSpatialContactWrenches(
    0, 1, bb[1], xx + 10, (const pm_math_Vector3 *)(xx + 200), (const
    pm_math_Vector3 *)(xx + 191), (const pm_math_Vector3 *)(xx + 216), (const
    pm_math_Vector3 *)(xx + 206),
    (const pm_math_Transform3 *)(xx + 301), (const pm_math_Transform3 *)(xx +
    301), (const pm_math_Transform3 *)(xx + 301), (const pm_math_Transform3 *)
    (xx + 315), NULL, (const pm_math_SpatialVector *)(xx + 322),
    0, 1, 1300.0, xx[6], xx[7], 0.4, 0.3166621126427172, 9.173266606314467e-4,
    NULL, NULL,
    NULL, (pm_math_SpatialVector *)(xx + 352));
  xx[191] = xx[45];
  xx[192] = xx[49];
  xx[193] = xx[331];
  pm_math_Vector3_cross_ra(xx + 336, xx + 191, xx + 49);
  xx[191] = - xx[329];
  xx[192] = - xx[330];
  xx[193] = - xx[331];
  pm_math_Vector3_cross_ra(xx + 336, xx + 191, xx + 200);
  xx[191] = xx[49] + xx[200];
  xx[192] = xx[50] + xx[201];
  xx[193] = xx[51] + xx[202];
  pm_math_Matrix3x3_xform_ra(xx + 70, xx + 191, xx + 49);
  xx[10] = xx[46] - xx[355] + xx[49];
  xx[11] = xx[47] - xx[356] + xx[50];
  xx[70] = xx[10];
  xx[71] = xx[11];
  xx[72] = xx[48] - xx[357] + xx[51];
  xx[28] = pm_math_Vector3_dot_ra(xx + 12, xx + 70);
  xx[30] = pm_math_Vector3_dot_ra(xx + 80, xx + 70);
  xx[40] = pm_math_Vector3_dot_ra(xx + 90, xx + 70);
  pm_math_Vector3_cross_ra(xx + 336, xx + 336, xx + 49);
  xx[70] = xx[31];
  xx[71] = xx[44];
  xx[72] = xx[9];
  xx[73] = xx[31] * xx[68];
  xx[74] = xx[44] * xx[68];
  xx[75] = xx[9] * xx[69];
  pm_math_Vector3_cross_ra(xx + 70, xx + 73, xx + 76);
  xx[70] = xx[25];
  xx[71] = state[16];
  xx[72] = xx[3];
  pm_math_Vector3_cross_ra(xx + 340, xx + 70, xx + 73);
  xx[70] = xx[76] - xx[359] + (xx[73] - xx[96] + xx[100] * inputDdot[0]) * xx[68];
  xx[71] = xx[77] - xx[360] + (xx[74] + inputDdot[1]) * xx[68];
  xx[72] = xx[78] - xx[361] + xx[69] * (xx[75] - (xx[16] - xx[1]) * xx[43] - xx
    [4] * cos(xx[2]) * xx[19] * inputDdot[0]);
  pm_math_Quaternion_xform_ra(xx + 183, xx + 70, xx + 43);
  pm_math_Vector3_cross_ra(xx + 105, xx + 46, xx + 70);
  xx[315] = - xx[108];
  xx[316] = - xx[111];
  xx[317] = - xx[114];
  xx[318] = - xx[109];
  xx[319] = - xx[112];
  xx[320] = - xx[115];
  xx[321] = xx[120];
  xx[322] = xx[121];
  xx[323] = xx[122];
  pm_math_Matrix3x3_xform_ra(xx + 315, xx + 191, xx + 46);
  xx[2] = xx[49] - xx[352] + xx[43] + xx[70] + xx[46];
  xx[3] = xx[50] - xx[353] + xx[44] + xx[71] + xx[47] + xx[10];
  xx[9] = xx[51] - xx[354] + xx[45] + xx[72] + xx[48];
  xx[43] = - xx[28];
  xx[44] = - xx[30];
  xx[45] = - xx[40];
  xx[46] = xx[11] - xx[2];
  xx[47] = - xx[3];
  xx[48] = - xx[9];
  solveSymmetricPosDef(xx + 147, xx + 43, 6, 1, xx + 70, xx + 324);
  pm_math_Matrix3x3_xform_ra(xx + 315, xx + 12, xx + 43);
  pm_math_Matrix3x3_xform_ra(xx + 315, xx + 80, xx + 12);
  pm_math_Matrix3x3_xform_ra(xx + 315, xx + 90, xx + 46);
  xx[437] = xx[43];
  xx[438] = xx[12];
  xx[439] = xx[46];
  xx[440] = xx[24];
  xx[441] = xx[32];
  xx[442] = xx[35];
  xx[443] = xx[44];
  xx[444] = xx[13];
  xx[445] = xx[47];
  xx[446] = xx[141] - xx[132] + xx[112];
  xx[447] = xx[42];
  xx[448] = xx[116];
  xx[449] = xx[45];
  xx[450] = xx[14];
  xx[451] = xx[48];
  xx[452] = xx[144] - xx[135] + xx[113];
  xx[453] = xx[145] - xx[136] - xx[110];
  xx[454] = xx[119];
  xx[455] = xx[54];
  xx[456] = xx[83];
  xx[457] = xx[93];
  xx[458] = xx[61];
  xx[459] = xx[66];
  xx[460] = xx[120];
  xx[461] = xx[55];
  xx[462] = xx[84];
  xx[463] = xx[94];
  xx[464] = xx[53];
  xx[465] = xx[52];
  xx[466] = xx[121];
  xx[467] = xx[56];
  xx[468] = xx[85];
  xx[469] = xx[95];
  xx[470] = xx[63];
  xx[471] = xx[64];
  xx[472] = xx[122];
  solveSymmetricPosDef(xx + 147, xx + 437, 6, 6, xx + 473, xx + 42);
  xx[12] = xx[494];
  xx[13] = xx[500];
  xx[14] = xx[506];
  xx[10] = 9.806649999999999;
  xx[16] = xx[10] * state[4];
  xx[19] = xx[10] * state[5];
  xx[42] = xx[4] * (xx[16] * state[6] - xx[19] * state[3]);
  xx[43] = (xx[16] * state[3] + xx[19] * state[6]) * xx[4];
  xx[44] = xx[10] - (xx[16] * state[4] + xx[19] * state[5]) * xx[4];
  xx[16] = pm_math_Vector3_dot_ra(xx + 12, xx + 42);
  xx[12] = xx[73] - xx[16];
  xx[45] = xx[495];
  xx[46] = xx[501];
  xx[47] = xx[507];
  xx[13] = pm_math_Vector3_dot_ra(xx + 45, xx + 42);
  xx[14] = xx[74] - xx[13];
  xx[45] = xx[496];
  xx[46] = xx[502];
  xx[47] = xx[508];
  xx[19] = pm_math_Vector3_dot_ra(xx + 45, xx + 42);
  xx[24] = xx[75] - xx[19];
  xx[45] = state[27];
  xx[46] = state[28];
  xx[47] = state[29];
  xx[25] = - state[20];
  xx[48] = xx[25];
  xx[49] = xx[79];
  xx[50] = xx[87];
  xx[51] = xx[104];
  xx[52] = state[24];
  xx[53] = state[25];
  xx[54] = state[26];
  pm_math_Quaternion_inverseXform_ra(xx + 48, xx + 52, xx + 55);
  pm_math_Vector3_cross_ra(xx + 45, xx + 55, xx + 48);
  xx[51] = - xx[55];
  xx[52] = - xx[56];
  xx[53] = - xx[57];
  pm_math_Vector3_cross_ra(xx + 45, xx + 51, xx + 61);
  xx[31] = 3.469446951953614e-18;
  xx[32] = xx[31] * state[22];
  xx[35] = xx[31] * state[21];
  xx[89] = state[22];
  xx[90] = state[23];
  xx[91] = xx[25];
  xx[92] = xx[79];
  xx[93] = state[17] - (xx[32] * state[20] + xx[35] * state[23]) * xx[4];
  xx[94] = xx[4] * (xx[35] * state[20] - xx[32] * state[23]) + state[18];
  xx[95] = (xx[35] * state[21] + xx[32] * state[22]) * xx[4] - xx[31] + state[19];
  bb[1] = sm_core_compiler_computeProximityInfoBrickCylinder(
    simulation_b048d748_1_geometry_3(NULL), simulation_b048d748_1_geometry_1
    (NULL), (pm_math_Transform3 *)(xx + 301), (pm_math_Transform3 *)(xx + 89),
    xx + 25, (pm_math_Vector3 *)(xx + 51), (pm_math_Vector3 *)(xx + 64),
    (pm_math_Vector3 *)(xx + 76), (pm_math_Vector3 *)(xx + 79));
  xx[104] = xx[33];
  xx[105] = xx[33];
  xx[106] = xx[1];
  xx[107] = xx[33];
  xx[108] = xx[33];
  xx[109] = xx[33];
  xx[110] = - xx[31];
  xx[111] = state[27];
  xx[112] = state[28];
  xx[113] = state[29];
  xx[114] = xx[55];
  xx[115] = xx[56];
  xx[116] = xx[57];
  sm_core_compiler_computeSpatialContactWrenches(
    0, 1, bb[1], xx + 25, (const pm_math_Vector3 *)(xx + 51), (const
    pm_math_Vector3 *)(xx + 64), (const pm_math_Vector3 *)(xx + 76), (const
    pm_math_Vector3 *)(xx + 79),
    (const pm_math_Transform3 *)(xx + 301), (const pm_math_Transform3 *)(xx +
    104), (const pm_math_Transform3 *)(xx + 301), (const pm_math_Transform3 *)
    (xx + 89), NULL, (const pm_math_SpatialVector *)(xx + 111),
    0, 1, xx[6], 100.0, xx[7], xx[8], xx[60], xx[86], NULL, NULL,
    NULL, (pm_math_SpatialVector *)(xx + 129));
  xx[6] = (xx[48] + xx[61]) * xx[21] - xx[132];
  xx[7] = (xx[49] + xx[62]) * xx[21] - xx[133];
  xx[8] = (xx[50] + xx[63]) * xx[21] - (input[3] + xx[134]);
  xx[48] = xx[248] * state[27];
  xx[49] = xx[248] * state[28];
  xx[50] = xx[69] * state[29];
  pm_math_Vector3_cross_ra(xx + 45, xx + 48, xx + 51);
  xx[45] = - pm_math_Vector3_dot_ra(xx + 210, xx + 6);
  xx[46] = - pm_math_Vector3_dot_ra(xx + 241, xx + 6);
  xx[47] = - pm_math_Vector3_dot_ra(xx + 245, xx + 6);
  xx[48] = xx[129] - xx[51];
  xx[49] = xx[130] - xx[52];
  xx[50] = xx[131] - xx[53];
  solveSymmetricPosDef(xx + 249, xx + 45, 6, 1, xx + 51, xx + 59);
  xx[437] = xx[33];
  xx[438] = xx[33];
  xx[439] = xx[33];
  xx[440] = xx[248];
  xx[441] = xx[33];
  xx[442] = xx[33];
  xx[443] = xx[33];
  xx[444] = xx[33];
  xx[445] = xx[33];
  xx[446] = xx[33];
  xx[447] = xx[248];
  xx[448] = xx[33];
  xx[449] = xx[33];
  xx[450] = xx[33];
  xx[451] = xx[33];
  xx[452] = xx[33];
  xx[453] = xx[33];
  xx[454] = xx[69];
  xx[455] = xx[213];
  xx[456] = xx[220];
  xx[457] = xx[232];
  xx[458] = xx[33];
  xx[459] = xx[33];
  xx[460] = xx[33];
  xx[461] = xx[214];
  xx[462] = xx[223];
  xx[463] = xx[234];
  xx[464] = xx[33];
  xx[465] = xx[33];
  xx[466] = xx[33];
  xx[467] = xx[215];
  xx[468] = xx[227];
  xx[469] = xx[236];
  xx[470] = xx[33];
  xx[471] = xx[33];
  xx[472] = xx[33];
  solveSymmetricPosDef(xx + 249, xx + 437, 6, 6, xx + 509, xx + 45);
  xx[6] = xx[531];
  xx[7] = xx[537];
  xx[8] = xx[543];
  xx[21] = xx[10] * state[21];
  xx[25] = xx[10] * state[22];
  xx[45] = xx[4] * (xx[21] * state[23] - xx[25] * state[20]);
  xx[46] = (xx[21] * state[20] + xx[25] * state[23]) * xx[4];
  xx[47] = xx[10] - (xx[21] * state[21] + xx[25] * state[22]) * xx[4];
  xx[10] = xx[55] - pm_math_Vector3_dot_ra(xx + 6, xx + 45);
  xx[6] = xx[532];
  xx[7] = xx[538];
  xx[8] = xx[544];
  xx[21] = xx[56] - pm_math_Vector3_dot_ra(xx + 6, xx + 45);
  xx[6] = xx[1] - (xx[239] + xx[294]) * xx[4];
  xx[7] = (xx[235] + xx[231]) * xx[4];
  xx[8] = xx[196];
  xx[48] = xx[530];
  xx[49] = xx[536];
  xx[50] = xx[542];
  xx[25] = xx[54] - pm_math_Vector3_dot_ra(xx + 48, xx + 45);
  xx[48] = - ((xx[128] + xx[37]) * xx[4]);
  xx[49] = xx[4] * (xx[285] - xx[244]);
  xx[50] = (xx[38] + xx[239]) * xx[4] - xx[1];
  xx[59] = xx[491];
  xx[60] = xx[497];
  xx[61] = xx[503];
  xx[1] = pm_math_Vector3_dot_ra(xx + 59, xx + 42);
  xx[31] = xx[97] * xx[117];
  xx[32] = xx[31] * xx[27];
  xx[35] = xx[97] * xx[29];
  xx[29] = xx[35] * xx[27];
  xx[37] = xx[31] * xx[17] + xx[35] * xx[26];
  xx[59] = xx[32];
  xx[60] = xx[29];
  xx[61] = - xx[37];
  pm_math_Vector3_cross_ra(xx + 312, xx + 59, xx + 62);
  xx[59] = (xx[62] - xx[20] * xx[32]) * xx[4] - xx[35];
  xx[60] = (xx[63] - xx[20] * xx[29]) * xx[4] + xx[31];
  xx[61] = xx[4] * (xx[64] + xx[37] * xx[20]);
  pm_math_Quaternion_xform_ra(xx + 123, xx + 59, xx + 62);
  xx[26] = xx[97] * xx[27];
  xx[59] = (xx[103] + xx[26] * xx[27]) * xx[4] - xx[97];
  xx[60] = - ((xx[26] * xx[20] + xx[98] * xx[17]) * xx[4]);
  xx[61] = xx[4] * (xx[99] - xx[26] * xx[17]);
  pm_math_Quaternion_xform_ra(xx + 123, xx + 59, xx + 65);
  xx[17] = xx[228] * xx[189];
  xx[20] = xx[228] * xx[190];
  xx[59] = xx[527];
  xx[60] = xx[533];
  xx[61] = xx[539];
  xx[76] = xx[492];
  xx[77] = xx[498];
  xx[78] = xx[504];
  xx[26] = pm_math_Vector3_dot_ra(xx + 76, xx + 42);
  xx[76] = xx[528];
  xx[77] = xx[534];
  xx[78] = xx[540];
  xx[73] = xx[493];
  xx[74] = xx[499];
  xx[75] = xx[505];
  xx[27] = pm_math_Vector3_dot_ra(xx + 73, xx + 42);
  xx[42] = xx[529];
  xx[43] = xx[535];
  xx[44] = xx[541];
  xx[79] = - (xx[367] + xx[12] * xx[204] + xx[14] * xx[18] + xx[24] * xx[194] +
              xx[204] * inputDdot[0] + xx[10] * xx[290] + xx[21] * xx[222]);
  xx[80] = - (xx[368] + xx[12] * xx[224] + xx[14] * xx[23] + xx[24] * xx[36] +
              xx[224] * inputDdot[0] + (bb[0] ? xx[33] : pm_math_Vector3_dot_ra
    (xx + 6, xx + 295)) * inputDdot[1] + xx[25] * xx[299] + xx[21] * xx[209]);
  xx[81] = - (xx[369] + xx[12] * xx[118] + xx[14] * xx[22] + xx[24] * xx[34] +
              xx[118] * inputDdot[0] + (bb[0] ? xx[33] : pm_math_Vector3_dot_ra
    (xx + 48, xx + 309)) * inputDdot[1] + xx[25] * xx[199] + xx[10] * xx[205]);
  xx[82] = - (xx[370] + (xx[70] - xx[1]) * xx[221] + xx[12] * xx[339] + xx[14] *
              xx[351] + xx[24] * xx[233] + (bb[0] ? xx[33] : - (xx[300] + xx[62]))
              * inputDdot[0] + (bb[0] ? xx[33] : - (xx[65] + (xx[189] * xx[17] +
    xx[190] * xx[20]) * xx[4] - xx[228])) * inputDdot[1] + (xx[51] -
    pm_math_Vector3_dot_ra(xx + 59, xx + 45)) * xx[39] + xx[25] * xx[345] + xx
              [10] * xx[358]);
  xx[83] = - (xx[371] + (xx[71] - xx[26]) * xx[221] + xx[12] * xx[292] + xx[14] *
              xx[58] + xx[24] * xx[15] + (bb[0] ? xx[33] : - (xx[366] + xx[230]
    + xx[63])) * inputDdot[0] + (bb[0] ? xx[33] : - (xx[66] - (xx[187] * xx[20]
    + xx[188] * xx[17]) * xx[4])) * inputDdot[1] + (xx[52] -
    pm_math_Vector3_dot_ra(xx + 76, xx + 45)) * xx[39] + xx[25] * xx[5] + xx[10]
              * xx[41]);
  xx[84] = - (xx[372] + (xx[72] - xx[27]) * xx[221] + xx[12] * xx[293] + xx[14] *
              xx[88] + xx[24] * xx[101] + (bb[0] ? xx[33] : - (xx[225] + xx[64]))
              * inputDdot[0] + (bb[0] ? xx[33] : - (xx[4] * (xx[187] * xx[17] -
    xx[188] * xx[20]) + xx[67])) * inputDdot[1] + (xx[53] -
    pm_math_Vector3_dot_ra(xx + 42, xx + 45)) * xx[39] + xx[25] * xx[102] + xx
              [10] * xx[238]);
  memcpy(xx + 234, xx + 401, 36 * sizeof(double));
  factorAndSolveSymmetric(xx + 234, 6, xx + 47, ii + 0, xx + 79, xx + 41, xx +
    294);
  xx[47] = xx[44] * xx[221] - xx[28];
  xx[48] = xx[45] * xx[221] - xx[30];
  xx[49] = xx[46] * xx[221] - xx[40];
  xx[50] = xx[41] * xx[204] + xx[42] * xx[224] + xx[43] * xx[118] + xx[44] * xx
    [339] + xx[45] * xx[292] + xx[46] * xx[293] - (xx[2] - xx[11]);
  xx[51] = xx[41] * xx[18] + xx[42] * xx[23] + xx[43] * xx[22] + xx[44] * xx[351]
    + xx[45] * xx[58] + xx[46] * xx[88] - xx[3];
  xx[52] = xx[41] * xx[194] + xx[42] * xx[36] + xx[43] * xx[34] + xx[44] * xx
    [233] + xx[45] * xx[15] + xx[46] * xx[101] - xx[9];
  solveSymmetricPosDef(xx + 147, xx + 47, 6, 1, xx + 2, xx + 20);
  logVector[0] = state[0];
  logVector[1] = state[1];
  logVector[2] = state[2];
  logVector[3] = state[3];
  logVector[4] = state[4];
  logVector[5] = state[5];
  logVector[6] = state[6];
  logVector[7] = state[7];
  logVector[8] = state[8];
  logVector[9] = state[9];
  logVector[10] = xx[0] * state[10];
  logVector[11] = xx[0] * state[11];
  logVector[12] = xx[0] * state[12];
  logVector[13] = xx[0] * state[13];
  logVector[14] = xx[0] * state[14];
  logVector[15] = xx[0] * state[15];
  logVector[16] = xx[0] * state[16];
  logVector[17] = xx[2] - xx[1];
  logVector[18] = xx[3] - xx[26];
  logVector[19] = xx[4] - xx[27];
  logVector[20] = xx[0] * (xx[5] - xx[16]);
  logVector[21] = xx[0] * (xx[6] - xx[13]);
  logVector[22] = xx[0] * (xx[7] - xx[19]);
  logVector[23] = xx[0] * inputDdot[0];
  logVector[24] = xx[0] * inputDdot[1];
  errorResult[0] = xx[33];
  return NULL;
}
